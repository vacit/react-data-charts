(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{217:function(e,t,n){e.exports=n(533)},222:function(e,t,n){},533:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n.n(a),i=n(210),o=n.n(i),s=(n(222),n(43)),c=n(87),l=n(211),u=n(212),p=n(215),h=n(213),m=n(216),d=n(88),b=n.n(d),f=function(e){return r.a.createElement("div",null,r.a.createElement(b.a,{option:e,notMerge:!0,lazyUpdate:!0,style:{height:"400px"}}),r.a.createElement("br",null))},g=n(124),v=n.n(g),y=n(214),x=function(e){return"".concat("http://localhost:3000/hotels/","?fields=").concat(e)},O=function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(x(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return r.a.createElement("div",null,r.a.createElement(b.a,{option:e,notMerge:!0,lazyUpdate:!0,style:{height:"400px"}}),r.a.createElement("br",null))},j={title:{text:"Comments Statistics",subtext:"How many comment every hotel has",left:"left"},tooltip:{trigger:"item",formatter:"{b} : ({d}%) <br/> Comment : {c} "},legend:{type:"scroll",orient:"vertical",right:10,top:20,bottom:20,data:[],selected:{}},series:[{type:"pie",radius:"80%",center:["40%","50%"],data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},E={title:{text:"Distribution",subtext:"Occurrence above 20 in a sample search result"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!1}},formatter:"{b0}<br /> Total: {c0} Entries found",position:function(e,t,n,a,r){var i={top:60};return i[["left","right"][+(e[0]<r.viewSize[0]/2)]]=80,i}},xAxis:{nameLocation:"center",type:"category",data:[],axisLabel:{show:!1}},yAxis:{type:"value"},lineStyle:{color:"green"},series:[{name:"Repetition",type:"line",smooth:!0,data:[],areaStyle:{color:"green"}}]},k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).getNames=function(e){var t=[];return e.result.forEach((function(e){t.push(e.hotelname)})),t},n.getDistribution=function(e){var t=[],n=[],a=e.reduce((function(e,t){return Object.assign(e,Object(c.a)({},t,1+(0|e[t])))}),{});for(var r in a)a[r]>20&&(t.push(r),n.push(a[r]));return{uniqueNames:t,uniqueCount:n}},n.getPieOption=function(e,t){var n=[],a=[],r={};return e.map((function(e,i){n.push(e),a.push({name:e,value:t[i]}),r[e]=i<10})),{legendData:n,seriesData:a,selected:r}},n.state={pieOption:{},lineOption1:{},lineOption2:{},data:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;O("hotelname,baseprice,commentcount").then((function(t){var n=t.result.hotelname,a=t.result.baseprice,r=(t.result.commentcount,e.getDistribution(n)),i=r.uniqueNames,o=r.uniqueCount,c=e.getPieOption(i,o);console.log(c),e.setState({pieOption:Object(s.a)({},j,{legend:Object(s.a)({},j.legend,{data:c.legendData,selected:c.selected}),series:[Object(s.a)({},j.series[0],{data:c.seriesData})]}),lineOption1:Object(s.a)({},E,{xAxis:Object(s.a)({},E.xAxis,{data:i}),series:[Object(s.a)({},E.series[0],{data:o})]}),lineOption2:{title:{text:"Base Price",subtext:"Hotels base price in a sample search result"},xAxis:{type:"category",data:n,axisTick:{alignWithLabel:!0},axisLabel:{rotate:-90}},yAxis:{type:"value"},series:[{data:a,type:"line"}]},data:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{padding:"20px"},className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(w,this.state.pieOption),r.a.createElement(f,this.state.lineOption1),r.a.createElement(f,this.state.lineOption2)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[217,1,2]]]);
//# sourceMappingURL=main.9178ae65.chunk.js.map